#!/bin/bash

echo "========================================="
echo "Applying BoardGuru Database Migrations"
echo "========================================="
echo ""
echo "Run these migrations in order:"
echo ""
echo "OPTION 1: If you have NO existing tables (fresh start):"
echo "--------------------------------------------------------"
echo "File: supabase/migrations/001_create_all_tables_ordered.sql"
echo ""
echo "This will create all tables from scratch with proper structure."
echo ""
echo "OPTION 2: If you have EXISTING tables (fixing errors):"
echo "--------------------------------------------------------"
echo "File: supabase/migrations/002_fix_existing_tables.sql"
echo ""
echo "This will safely add missing columns like 'status' to existing tables."
echo ""
echo "========================================="
echo "Instructions:"
echo "1. Go to your Supabase dashboard"
echo "2. Navigate to SQL Editor"
echo "3. If you get 'table already exists' errors, use Option 2"
echo "4. If you get 'column does not exist' errors, use Option 2"
echo "5. If starting fresh, use Option 1"
echo "========================================="
echo ""
echo "The migrations will:"
echo "  - Create/fix organizations table"
echo "  - Create/fix users table"
echo "  - Create/fix boards table"
echo "  - Create/fix meetings table"
echo "  - Create/fix all junction tables"
echo "  - Add all missing columns"
echo "  - Set up RLS policies"
echo "  - Add triggers and functions"
echo ""
echo "After applying migrations, restart your development server:"
echo "npm run dev"
echo ""